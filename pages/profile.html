<!-- ============================================================
     FIL: pages/profile.html  (HEL FIL)
     AO 8/15 — Profile page (level/streak/historik)
     Policy: UI-only, mobil-first, inga externa deps
============================================================ -->
<!doctype html>
<html lang="sv">
<head>
  <!-- ==========================================================
       BLOCK 1 — Meta + CSS
  =========================================================== -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Profil — Progress</title>
  <meta name="description" content="Visa level, streak och historik." />
  <link rel="stylesheet" href="../styles/main.css" />
</head>

<body>
  <!-- ==========================================================
       BLOCK 2 — App Root
  =========================================================== -->
  <div id="app" class="app"> <!-- HOOK: app-root -->
    <!-- ========================================================
         BLOCK 3 — Header
    ========================================================= -->
    <header class="topbar">
      <div class="topbar__inner">
        <div class="row row--header">
          <button id="backBtn" class="btn btn-ghost btn--icon" type="button" aria-label="Tillbaka">
            ←
          </button>
          <!-- HOOK: back-button -->

          <div class="headerTitle">
            <div class="muted small">Profil</div>
            <div class="headerName">Progress</div>
          </div>

          <div class="headerRight">
            <button id="resetBtn" class="btn btn-danger btn--compact" type="button">
              Reset demo
            </button>
            <!-- HOOK: reset-demo -->
          </div>
        </div>
      </div>
    </header>

    <!-- ========================================================
         BLOCK 4 — Main
    ========================================================= -->
    <main class="main">
      <div class="container">
        <!-- Level card -->
        <section class="card card--stat">
          <div class="statRow">
            <div>
              <div class="muted small">Level</div>
              <div id="levelValue" class="statValue">1</div>
              <!-- HOOK: level-value -->
            </div>

            <div class="pill pill--level" id="streakPill">
              Streak: 0
            </div>
            <!-- HOOK: streak-pill -->
          </div>

          <div class="xpBlock">
            <div class="xpTop">
              <div class="muted small">XP</div>
              <div id="xpText" class="muted small">0 / 100</div>
              <!-- HOOK: xp-text -->
            </div>

            <div class="xpBar" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
              <div id="xpFill" class="xpFill" style="width:0%"></div>
              <!-- HOOK: xp-fill -->
            </div>
          </div>
        </section>

        <!-- History -->
        <section class="card card--list">
          <div class="listHead">
            <h2 class="h2">Historik</h2>
            <p class="muted small">Senaste händelserna visas först.</p>
          </div>

          <div id="historyList" class="historyList" role="list">
            <!-- HOOK: history-list -->
          </div>
        </section>

        <div class="muted small footerNote">
          Tips: Spela några uppdrag så fylls historiken på.
        </div>
      </div>
    </main>
  </div>

  <!-- ==========================================================
       BLOCK 5 — Page-only inline styles
  =========================================================== -->
  <style>
    .row { display:flex; align-items:center; gap: var(--sp-3); }
    .row--header { width:100%; }
    .btn--icon { width:44px; padding: 10px 10px; }
    .btn--compact { min-height: 40px; padding: 10px 12px; font-size: var(--fs-2); }
    .headerTitle { flex: 1; min-width: 0; }
    .headerName { font-weight: 800; font-size: var(--fs-4); }
    .headerRight { display:flex; align-items:center; gap: var(--sp-2); }

    .pill { display:inline-flex; align-items:center; justify-content:center; padding: 7px 10px; border-radius: 999px; border: 1px solid var(--border); background: rgba(255,255,255,.06); font-weight: 800; font-size: var(--fs-1); }
    .pill--level { border-color: rgba(110,231,255,.30); background: rgba(110,231,255,.10); color: rgba(255,255,255,.92); }

    .card--stat { margin-top: var(--sp-4); }
    .statRow { display:flex; align-items:flex-start; justify-content:space-between; gap: var(--sp-3); }
    .statValue { font-size: 34px; font-weight: 900; letter-spacing: -0.02em; margin-top: 2px; }

    .xpBlock { margin-top: var(--sp-4); display:grid; gap: var(--sp-2); }
    .xpTop { display:flex; align-items:center; justify-content:space-between; gap: var(--sp-3); }
    .xpBar { width:100%; height: 12px; border-radius: 999px; border: 1px solid var(--border); background: rgba(255,255,255,.06); overflow: hidden; }
    .xpFill { height: 100%; border-radius: 999px; background: linear-gradient(180deg, var(--primary), var(--primary-2)); width: 0%; transition: width .18s ease; }

    .historyList { display:grid; gap: var(--sp-2); }
    .historyItem { display:flex; align-items:flex-start; justify-content:space-between; gap: var(--sp-3); padding: var(--sp-3); border-radius: var(--r-3); border: 1px solid var(--border); background: rgba(255,255,255,.04); }
    .historyItem__left { min-width: 0; }
    .historyItem__title { font-weight: 800; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .historyItem__meta { margin-top: 2px; font-size: var(--fs-1); }
    .historyItem__right { text-align: right; flex: 0 0 auto; }
    .delta { font-weight: 900; }
    .delta--xp { color: rgba(110,231,255,.92); }
    .delta--pts { color: rgba(74,222,128,.92); }

    .footerNote { margin-top: var(--sp-5); text-align:center; opacity:.85; }
  </style>

  <!-- ==========================================================
       BLOCK 6 — Script
  =========================================================== -->
  <script type="module" src="../src/profile.js"></script>
</body>
</html>
