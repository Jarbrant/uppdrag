AO-LOGIN-02 (2/2) — Dashboard: ⚙️ login/logout (token i minnet)
Mål

Dashboarden ska:

Visa ⚙️ i toppbaren

Klick ⚙️ öppnar panel:

Logga in: username + password + knapp

Logga ut (töm token)

status: “Låst / Upplåst”

“Hämta data” funkar bara när token finns

Token sparas inte i localStorage (endast minne)

Filer (max 2)

PATCH: pages/dashboard.html

(valfritt) PATCH: styles/main.css (om du vill ha snygg panel)

Kontrakt (KRAV)

UI

Toppbar höger:

Spel länk → ../index.html

Admin badge (current)

Partner länk

MVP

⚙️ (kugghjul)

⚙️ panel innehåller:

username, password

“Logga in”

“Logga ut”

statusrad

API

POST /admin/login → får token

Alla admin fetches skickar:

Authorization: Bearer <token>

Fail-closed

Ingen token → blockera “Hämta data”, “Skapa butik”, “Skapa invite”

Visa tydlig text: “Logga in via ⚙️”

DoD

Man kan logga in

Token används

Logga ut rensar allt

Refresh → token försvinner (OK i MVP)

KLISTRA IN (till FORGE)

“Implementera AO-LOGIN-02: Patcha pages/dashboard.html så admin key UI tas bort och ersätts med ⚙️ login-panel (username+password). Anropa /admin/login, lagra token i minne, använd Authorization: Bearer för alla admin-anrop. Lås knappar när ej inloggad. Lägg till ‘Spel’ länk till ../index.html. Fail-closed, XSS-safe.”

En sak jag behöver från dig (för att undvika gissning)

Vill du ha admin-användare:

anders (default)
Och vill du att lösenordet ska vara:

du väljer, men jag behöver då antingen:

att du själv sätter ADMIN_PASS_HASH i Worker env, eller

att du ger mig ett temporärt lösenord så jag kan säga exakt hur du hash:ar det.
